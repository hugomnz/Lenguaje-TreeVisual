<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tu lenguaje ‚Äî Presentaci√≥n</title>
  <meta name="description"
    content="Presentaci√≥n del nuevo lenguaje visual inspirado en Python, con sintaxis geom√©trica y crom√°tica." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='46' fill='%2300a8ff'/><text x='50' y='60' font-size='48' text-anchor='middle' fill='white'>Œª</text></svg>">
</head>

<body>
  <header class="site-header">
    <a class="brand" href="#top" aria-label="Inicio">
      <span class="logo">Œª</span>
      <span class="brand-text">Lenguaje TreeVisual</span>
    </a>

    <nav class="nav" aria-label="Secciones">
      <button class="nav-toggle" aria-expanded="false" aria-controls="menu">‚ò∞</button>
      <ul id="menu">
        <li><a href="#intro">Introducci√≥n</a></li>
        <li><a href="#tipos">Tipos</a></li>
        <li><a href="#variables">Variables</a></li>
        <li><a href="#operadores">Operadores</a></li>
        <li><a href="#letras-numeros">Letras y N√∫meros</a></li>
        <li><a href="#control">Control de flujo</a></li>
        <li><a href="#funciones">Funciones</a></li>
        <li><a href="#errores-io">Errores e I/O</a></li>
        <li><a href="#ejemplo">Ejemplo</a></li>
        <li><a href="#vm">M√°quina Virtual</a></li>
      </ul>
    </nav>

    <button id="theme-btn" class="theme-btn" title="Cambiar tema" aria-label="Cambiar tema">üåì</button>
  </header>

  <main id="top">

    <!-- Secciones existentes -->
    <!-- (Todo tu contenido anterior igual, hasta el cierre de la secci√≥n ejemplo) -->

    <section id="ejemplo" class="section example">
      <h2>Ejemplo: programa y traducci√≥n</h2>
      <div class="grid two">
        <figure class="card">
          <img loading="lazy" src="assets/ejemplo.png"
            alt="Programa visual con asignaciones, comparaci√≥n, suma, bucle for, definici√≥n de funci√≥n y llamada con print final."
            data-zoom>
          <figcaption>
            El programa hace lo siguiente, de arriba a abajo:
            <ol>
              <li>Declara dos variables: <code>x = 5</code> y <code>y = 4.2</code>.</li>
              <li>Eval√∫a la condici√≥n <code>if x &gt; y</code>:
                <ul>
                  <li>Si se cumple, imprime <strong>"x es mayor"</strong>.</li>
                  <li>Si no, imprime <strong>"y es mayor o igual"</strong>.</li>
                </ul>
              </li>
              <li>Crea una nueva variable <code>z</code> con la suma de <code>x + y</code>.</li>
              <li>Ejecuta un bucle <code>for</code> que recorre <code>range(3)</code> e imprime la iteraci√≥n actual.</li>
              <li>Define una funci√≥n <code>suma(a, b)</code> que retorna la suma de sus par√°metros.</li>
              <li>Llama a la funci√≥n con <code>suma(x, int(y))</code> y guarda el resultado en <code>resultado</code>.
              </li>
              <li>Finalmente, imprime <strong>"El resultado de la funci√≥n es:"</strong> seguido del valor calculado.</li>
            </ol>
          </figcaption>
        </figure>

        <div class="card code">
          <pre><code class="lang py">
x = 5
y = 4.2

if x &gt; y:
    print("x es mayor")
else:
    print("y es mayor o igual")

# Nueva variable
z = x + y

# Bucle
for i in range(3):
    print("Iteraci√≥n:", i)

# Funci√≥n
def suma(a, b):
    return a + b

resultado = suma(x, int(y))
print("El resultado de la funci√≥n es:", resultado)
</code></pre>
          <p class="note">En el lenguaje geom√©trico, cada paso se expresa con formas y colores en vez de palabras
            clave.</p>
        </div>
      </div>
    </section>

    <!-- NUEVA SECCI√ìN: M√ÅQUINA VIRTUAL -->
    <section id="vm" class="section vm-demo">
      <h2>M√°quina Virtual Visual (VMC5)</h2>
      <p>
        La <strong>VMC5</strong> es una extensi√≥n del lenguaje TreeVisual que ejecuta instrucciones simples en una pila,
        mostrando gr√°ficamente el resultado de cada operaci√≥n mediante figuras y colores. Est√° implementada en Python
        usando <code>Tkinter</code>.
      </p>

      <div class="grid two">
        <figure class="card">
          <img loading="lazy" src="assets/vmc5_inicial.png" alt="Interfaz de la VMC5 al iniciar" data-zoom>
          <figcaption>Interfaz inicial de la m√°quina virtual.</figcaption>
        </figure>

        <figure class="card">
          <img loading="lazy" src="assets/vmc5_add.jpg" alt="Ejemplo de ejecuci√≥n de la VMC5"
            data-zoom>
          <figcaption>Ejemplo de ejecuci√≥n de un programa con instrucciones sobre n√∫meros y texto.</figcaption>
        </figure>
      </div>

      <h3>Arquitectura interna</h3>
      <p>La m√°quina est√° basada en una arquitectura de pila con un conjunto m√≠nimo de registros y estructuras:</p>
      <ul>
        <li><strong>Pila de datos (<code>data_stack</code>)</strong>: almacena los valores intermedios de ejecuci√≥n.
        </li>
        <li><strong>Registro de cursor</strong>: contiene la posici√≥n <code>(x, y)</code> actual y la direcci√≥n de
          dibujo (0‚Äì3).</li>
        <li><strong>Pila de bucles (<code>loop_stack</code>)</strong>: controla las instrucciones <code>LOOP</code> y
          <code>END</code>.
        </li>
        <li><strong>Mapa de ocupaci√≥n (<code>occupied</code>)</strong>: evita que las figuras se solapen en pantalla.
        </li>
        <li><strong>ALU</strong>: realiza las operaciones aritm√©ticas b√°sicas (<code>ADD, SUB, MUL, DIV, MOD</code>).
        </li>
        <li><strong>Unidad de control</strong>: interpreta cada instrucci√≥n, actualiza los registros y dibuja en el
          lienzo.</li>
      </ul>

      <div class="grid two">
        <figure class="card">
          <img loading="lazy" src="assets/vmc5_almacenamiento.jpg" alt="Diagrama de almacenamiento de la m√°quina virtual"
            data-zoom>
          <figcaption>Esquema general del almacenamietno interno de la VMC5.</figcaption>
        </figure>

        <div class="card code">
          <pre><code>
            # Programa de ejemplo ejecutado en la VMC5
            >>> push 7
            STACK: [7]
            >>> push 8
            STACK: [7, 8]
            >>> add
            STACK: [15]
            >>> push 6
            STACK: [15, 6]
            >>> swap
            STACK: [6, 15]
            >>> mul
            STACK: [90]
            >>> push 8
            STACK: [90, 8]
            >>> div
            STACK: [11]
            >>> print abcd
            STACK: [11]
          </code></pre>
        </div>
      </div>

      <p>El dise√±o modular de la VMC5 permite ampliar el conjunto de instrucciones (por ejemplo, a√±adir <code>CLEAR</code>,
        <code>LOOP</code> o <code>RANDOM</code>) y mantener la compatibilidad con el lenguaje visual TreeVisual.
      </p>
    </section>
  </main>

  <footer class="site-footer">
    <p>¬© <span id="year"></span> Lenguaje TreeVisual ‚Äî Hecho por Jaime Montalvo, Marina Jim√©nez y Hugo Mu√±oz.</p>
  </footer>

  <!-- Lightbox -->
  <dialog id="lightbox">
    <button class="close" aria-label="Cerrar">‚úï</button>
    <img alt="">
    <p class="caption"></p>
  </dialog>

  <script src="script.js"></script>
</body>

</html>
