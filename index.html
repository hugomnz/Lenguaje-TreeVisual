<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tu lenguaje ‚Äî Presentaci√≥n</title>
    <meta name="description"
        content="Presentaci√≥n del nuevo lenguaje visual inspirado en Python, con sintaxis geom√©trica y crom√°tica." />
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='46' fill='%2300a8ff'/><text x='50' y='60' font-size='48' text-anchor='middle' fill='white'>Œª</text></svg>">
</head>

<body>
    <header class="site-header">
        <a class="brand" href="#top" aria-label="Inicio">
            <span class="logo">Œª</span>
            <span class="brand-text">Lenguaje TreeVisual</span>
        </a>

        <nav class="nav" aria-label="Secciones">
            <button class="nav-toggle" aria-expanded="false" aria-controls="menu">‚ò∞</button>
            <ul id="menu">
                <li><a href="#intro">Introducci√≥n</a></li>
                <li><a href="#tipos">Tipos</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#operadores">Operadores</a></li>
                <li><a href="#letras-numeros">Letras y N√∫meros</a></li>
                <li><a href="#control">Control de flujo</a></li>
                <li><a href="#funciones">Funciones</a></li>
                <li><a href="#errores-io">Errores e I/O</a></li>
                <li><a href="#ejemplo">Ejemplo</a></li>
                <!-- NUEVO ENLACE -->
                <li><a href="#vm">M√°quina Virtual</a></li>
            </ul>
        </nav>

        <button id="theme-btn" class="theme-btn" title="Cambiar tema" aria-label="Cambiar tema">üåì</button>
    </header>

    <main id="top">
        <section id="intro" class="hero">
            <div class="hero-inner">
                <h1>Lenguaje TreeVisual</h1>
                <p class="lead">
                    Un lenguaje visual donde la sintaxis son <strong>formas</strong> y <strong>colores</strong>.
                    Aqu√≠ tienes una gu√≠a r√°pida con capturas y la explicaci√≥n de c√≥mo se traduce desde Python.
                </p>
                <a class="cta" href="#ejemplo">Ir al ejemplo compilado</a>
            </div>
        </section>

        <!-- Tipos -->
        <section id="tipos" class="section">
            <h2>Tipos de datos b√°sicos</h2>
            <div class="grid">
                <figure class="card">
                    <img loading="lazy" src="assets/tipos.png"
                        alt="Tipos b√°sicos representados con formas: int, float, complex, string y bool." data-zoom>
                    <figcaption>
                        En este lenguaje, los tipos se representan con <strong>formas geom√©tricas</strong>:
                        <ul>
                            <li><em>int</em> (<strong>√°ngulo 30¬∞</strong>)</li>
                            <li><em>float</em> (<strong>√°ngulo 60¬∞</strong>)</li>
                            <li><em>complex</em> (<strong>√°ngulo 45¬∞</strong>)</li>
                            <li><em>str</em> (<strong>barra</strong>)</li>
                            <li><em>bool</em> (ticks <span style="color:green;">verde</span>/<span
                                    style="color:red;">rojo</span> para
                                <code>true</code>/<code>false</code>)
                            </li>
                        </ul>
                    </figcaption>
                </figure>
            </div>
        </section>

        <!-- Variables -->
        <section id="variables" class="section">
            <h2>Variables y color</h2>
            <div class="grid">
                <figure class="card">
                    <img loading="lazy" src="assets/variable-color.png"
                        alt="Una variable coloreada (rojo) como ejemplo de declaraci√≥n." data-zoom>
                    <figcaption>
                        Toda variable se identifica por su <strong>color</strong>. Por ejemplo, la variable roja
                        representa una entidad almacenada con ese color y se reutiliza en el programa.
                    </figcaption>
                </figure>
            </div>
        </section>

        <!-- Operadores -->
        <section id="operadores" class="section">
            <h2>Operadores</h2>
            <div class="grid">
                <figure class="card">
                    <img loading="lazy" src="assets/operadores.png"
                        alt="Traducci√≥n de operadores relacionales, aritm√©ticos y l√≥gicos a s√≠mbolos del lenguaje."
                        data-zoom>
                    <figcaption>
                        Seis grupos: relacionales/asignaci√≥n (<code>=, !=, &gt;, &lt;, &gt;=, &lt;=</code>), aritm√©ticos
                        (<code>+, -, *, **, /, //, %</code>) y l√≥gicos/pertinencia (<code>and, or, not, is</code>),
                        todos con sus equivalentes gr√°ficos.
                    </figcaption>
                </figure>
            </div>
        </section>

        <!-- Letras y N√∫meros -->
        <section id="letras-numeros" class="section">
            <h2>Letras y n√∫meros</h2>
            <div class="grid">
                <figure class="card">
                    <img loading="lazy" src="assets/letras-numeros.png"
                        alt="Dodec√°gono para letras y zigzag azul para n√∫meros con marcas verdes y rojas." data-zoom>
                    <figcaption>
                        <p><strong>Letras:</strong> se dibuja un <em>dodec√°gono</em> (m√°x. 12 lados) para indicar la
                            longitud de la palabra.
                            El n√∫mero de lados equivale al n√∫mero de letras (1‚Äì12), siempre con el color de su variable.
                        </p>
                        <p><strong>N√∫meros:</strong> una l√≠nea en zigzag azul; cada esquina vale una unidad. Rayas
                            verdes arriba marcan decenas, puntos rojos en las esquinas indican decimales. Ejemplo:
                            zigzag de 5 esquinas con 4 puntos rojos ‚Üí <code>5.4</code>.</p>
                    </figcaption>
                </figure>
            </div>
        </section>

        <!-- Control de flujo -->
        <section id="control" class="section">
            <h2>Control de flujo</h2>
            <div class="grid">
                <figure class="card">
                    <img loading="lazy" src="assets/control-flujo.png"
                        alt="Formas de if, elif, else, while, for, break, continue, pass." data-zoom>
                    <figcaption>
                        Representaciones para <code>if</code>, <code>elif</code>, <code>else</code>, <code>while</code>,
                        <code>for</code>, <code>break</code>, <code>continue</code> y <code>pass</code>.
                    </figcaption>
                </figure>
            </div>
        </section>

        <!-- Funciones -->
        <section id="funciones" class="section">
            <h2>Funciones e importaci√≥n</h2>
            <div class="grid">
                <figure class="card">
                    <img loading="lazy" src="assets/funciones.png"
                        alt="Formas para def, return, lambda, *args, **kwargs, import, from import, as." data-zoom>
                    <figcaption>
                        Sintaxis gr√°fica para <code>def</code>/<code>return</code>, <code>lambda</code>,
                        par√°metros <code>*args</code> y <code>**kwargs</code>,
                        <code>import</code>, <code>from ... import ...</code> y alias <code>as</code>.
                    </figcaption>
                </figure>
            </div>
        </section>

        <!-- Errores y E/S -->
        <section id="errores-io" class="section">
            <h2>Manejo de errores y E/S</h2>
            <div class="grid">
                <figure class="card">
                    <img loading="lazy" src="assets/errores-io.png"
                        alt="Formas para try, except, finally, raise, y los nodos de print e input." data-zoom>
                    <figcaption>
                        <code>try</code>, <code>except</code>, <code>finally</code> y <code>raise</code> tienen gestos
                        propios. Para Entrada/Salida, <code>print</code> e <code>input</code> se marcan con c√≠rculos
                        naranja y verde.
                    </figcaption>
                </figure>
            </div>
        </section>

        <!-- Ejemplo -->
        <section id="ejemplo" class="section example">
            <h2>Ejemplo: programa y traducci√≥n</h2>
            <div class="grid two">
                <figure class="card">
                    <img loading="lazy" src="assets/ejemplo.png"
                        alt="Programa visual con asignaciones, comparaci√≥n, suma, bucle for, definici√≥n de funci√≥n y llamada con print final."
                        data-zoom>
                    <figcaption>
                        El programa hace lo siguiente:
                        <ol>
                            <li>Declara dos variables: <code>x = 5</code> y <code>y = 4.2</code>.</li>
                            <li>Eval√∫a la condici√≥n <code>if x &gt; y</code> y muestra el resultado.</li>
                            <li>Crea una nueva variable <code>z</code> con la suma de <code>x + y</code>.</li>
                            <li>Ejecuta un bucle <code>for</code> con tres iteraciones.</li>
                            <li>Define una funci√≥n <code>suma(a, b)</code> y la llama.</li>
                            <li>Imprime el resultado final.</li>
                        </ol>
                    </figcaption>
                </figure>

                <div class="card code">
                    <pre><code class="lang py">
x = 5
y = 4.2

if x &gt; y:
    print("x es mayor")
else:
    print("y es mayor o igual")

z = x + y

for i in range(3):
    print("Iteraci√≥n:", i)

def suma(a, b):
    return a + b

resultado = suma(x, int(y))
print("El resultado de la funci√≥n es:", resultado)
                    </code></pre>
                    <p class="note">En el lenguaje geom√©trico, cada paso se representa con figuras y colores.</p>
                </div>
            </div>
        </section>

        <!-- NUEVA SECCI√ìN: M√ÅQUINA VIRTUAL -->
        <section id="vm" class="section vm-demo">
            <h2>M√°quina Virtual Visual (VMC5)</h2>
            <p>La <strong>VMC5</strong> ampl√≠a el lenguaje TreeVisual y ejecuta instrucciones simples en una pila,
                mostrando gr√°ficamente los resultados con <code>Tkinter</code>.</p>

            <div class="grid two">
                <figure class="card">
                    <img loading="lazy" src="assets/vmc5_inicial.png" alt="Interfaz inicial de la VMC5" data-zoom>
                    <figcaption>Interfaz inicial de la m√°quina virtual con el lienzo vac√≠o y la consola de comandos.
                    </figcaption>
                </figure>

                <figure class="card">
                    <img loading="lazy" src="assets/vmc5_add.jpg" alt="Ejemplo de ejecuci√≥n con PUSH y ADD" data-zoom>
                    <figcaption>Ejecuci√≥n del programa con instrucciones sobre n√∫meros y letras</figcaption>
                </figure>
            </div>

            <h3>Arquitectura interna</h3>
            <p>Basada en una pila con pocos registros:</p>
            <ul>
                <li><strong>data_stack:</strong> pila de datos.</li>
                <li><strong>cursor:</strong> almacena posici√≥n <code>(x, y)</code> y direcci√≥n actual.</li>
                <li><strong>loop_stack:</strong> controla <code>LOOP</code> y <code>END</code>.</li>
                <li><strong>occupied:</strong> evita solapamientos de figuras.</li>
                <li><strong>ALU:</strong> realiza operaciones <code>ADD, SUB, MUL, DIV, MOD</code>.</li>
                <li><strong>Unidad de control:</strong> interpreta instrucciones y actualiza la interfaz.</li>
            </ul>

            <!-- Fila con almacenamiento + esquema SVG al lado -->
            <div class="grid two">
                <figure class="card">
                    <img loading="lazy" src="assets/vmc5_almacenamiento.jpg"
                        alt="Almacenamiento: pila de datos y representaci√≥n" data-zoom>
                    <figcaption>Almacenamiento de la VM: pila de datos y estructuras auxiliares.</figcaption>
                </figure>

                <!-- Esquema visual SVG embebido (no necesitas subir imagen) -->
                <figure class="card">
                    <figcaption style="padding:1rem 1rem 0">Esquema de la arquitectura de la VMC5</figcaption>
                    <svg viewBox="0 0 920 520" role="img" aria-label="Esquema de arquitectura VMC5"
                         style="display:block;width:100%;height:auto">
                        <!-- Definiciones -->
                        <defs>
                            <style>
                                .b{fill:#0f1220;stroke:#23283a;stroke-width:2;rx:14;ry:14}
                                .t{font: 16px/1.2 system-ui,Segoe UI,Roboto,Arial; fill: var(--text,#e7ebf0)}
                                .s{fill:none; stroke:#5aa9ff; stroke-width:2.2; marker-end:url(#arrow)}
                                .s2{fill:none; stroke:#a5b4c3; stroke-width:2}
                            </style>
                            <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth"
                                    markerWidth="8" markerHeight="8" orient="auto">
                                <path d="M 0 0 L 10 5 L 0 10 z" fill="#5aa9ff"/>
                            </marker>
                        </defs>

                        <!-- Memoria de programa -->
                        <rect class="b" x="30" y="40" width="240" height="150"/>
                        <text class="t" x="150" y="70" text-anchor="middle"><tspan font-weight="700">Memoria de programa</tspan></text>
                        <text class="t" x="150" y="95" text-anchor="middle">Instrucciones</text>
                        <!-- IP -->
                        <rect class="b" x="70" y="120" width="60" height="40"/><text class="t" x="100" y="145" text-anchor="middle">IP</text>
                        <rect class="b" x="150" y="120" width="60" height="40"/><text class="t" x="180" y="145" text-anchor="middle">PC</text>

                        <!-- Unidad de control -->
                        <rect class="b" x="320" y="40" width="260" height="90"/>
                        <text class="t" x="450" y="75" text-anchor="middle"><tspan font-weight="700">Unidad de control</tspan></text>
                        <text class="t" x="450" y="95" text-anchor="middle">Fetch ‚Üí Decode ‚Üí Execute</text>

                        <!-- Flecha MemProg -> Control -->
                        <path class="s" d="M 270 115 C 300 115 300 85 320 85"/>

                        <!-- ALU -->
                        <rect class="b" x="620" y="40" width="270" height="120"/>
                        <text class="t" x="755" y="85" text-anchor="middle"><tspan font-weight="700">ALU</tspan> ‚Äî ADD, SUB, MUL, DIV, MOD</text>

                        <!-- Registros -->
                        <rect class="b" x="320" y="170" width="260" height="90"/>
                        <text class="t" x="450" y="200" text-anchor="middle"><tspan font-weight="700">Registros</tspan> (IP, SP, A)</text>

                        <!-- Pila de datos -->
                        <rect class="b" x="30" y="230" width="240" height="240"/>
                        <text class="t" x="150" y="260" text-anchor="middle"><tspan font-weight="700">Pila de datos</tspan> (data_stack)</text>
                        <!-- celdas de pila -->
                        <rect x="60" y="280" width="180" height="35" class="s2"/>
                        <rect x="60" y="320" width="180" height="35" class="s2"/>
                        <rect x="60" y="360" width="180" height="35" class="s2"/>
                        <rect x="60" y="400" width="180" height="35" class="s2" style="fill:#1d2840"/>

                        <!-- Cursor -->
                        <rect class="b" x="320" y="290" width="120" height="70"/>
                        <text class="t" x="380" y="320" text-anchor="middle"><tspan font-weight="700">Cursor</tspan></text>
                        <text class="t" x="380" y="340" text-anchor="middle">(x, y, dir)</text>

                        <!-- Loop stack -->
                        <rect class="b" x="460" y="290" width="120" height="70"/>
                        <text class="t" x="520" y="320" text-anchor="middle"><tspan font-weight="700">loop_stack</tspan></text>

                        <!-- Mapa occupied -->
                        <rect class="b" x="320" y="380" width="260" height="90"/>
                        <text class="t" x="450" y="415" text-anchor="middle"><tspan font-weight="700">occupied</tspan> ‚Äî mapa de celdas</text>

                        <!-- M√≥dulo gr√°fico -->
                        <rect class="b" x="620" y="260" width="270" height="210"/>
                        <text class="t" x="755" y="295" text-anchor="middle"><tspan font-weight="700">M√≥dulo gr√°fico</tspan> (Tkinter)</text>

                        <!-- Flechas principales -->
                        <path class="s" d="M 270 350 C 300 350 300 215 320 215"/>     <!-- Pila -> Registros -->
                        <path class="s" d="M 580 115 C 610 115 610 100 620 100"/>       <!-- Control -> ALU -->
                        <path class="s" d="M 580 205 C 700 205 700 240 755 240"/>       <!-- Registros -> ALU -->
                        <path class="s" d="M 755 140 C 755 200 755 240 755 260"/>       <!-- ALU -> M√≥dulo gr√°fico -->
                        <path class="s" d="M 580 425 C 620 425 620 425 620 425"/>       <!-- occupied -> m√≥dulo gr√°fico -->
                        <path class="s" d="M 440 325 C 440 260 440 260 450 260"/>       <!-- Cursor -> Registros (feedback) -->
                    </svg>
                    <figcaption style="padding:0 1rem 1rem">Flujo: Memoria de programa ‚Üí Unidad de control ‚Üí (Registros/ALU) ‚Üí M√≥dulo gr√°fico. La pila de datos alimenta operaciones y el estado visual.</figcaption>
                </figure>
            </div>

            <!-- C√≥digo de ejemplo en una tarjeta aparte, debajo -->
            <div class="card code" style="margin-top:1rem">
                <pre><code># Programa ejemplo
PUSH 7
PUSH 8
ADD
PUSH 6
SWAP
MUL
PUSH 8
DIV
PRINT abcd
                </code></pre>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <p>¬© <span id="year"></span> Lenguaje TreeVisual ‚Äî Hecho por Jaime Montalvo, Marina Jim√©nez y Hugo Mu√±oz.</p>
    </footer>

    <dialog id="lightbox">
        <button class="close" aria-label="Cerrar">‚úï</button>
        <img alt="">
        <p class="caption"></p>
    </dialog>

    <script src="script.js"></script>
</body>

</html>
